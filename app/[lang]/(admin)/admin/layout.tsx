import { i18n } from "@/i18n-config";
import Image from "next/image";
import "@/app/[lang]/globals.css";
import ellipse from "@/svg/ellipse.svg";
import localFont from "next/font/local";
import Providers from "@/app/[lang]/provider";
import Navbar from "@/app/[lang]/components/navbar/Navbar";
import { getDictionary } from "@/get-dictionary";
import { cn } from "@/lib/utils";
import Sidebar, { SidebarItem } from "../../components/sidebar/Sidebar";
import { TvIcon } from "@heroicons/react/24/outline";
import { BanIcon } from "lucide-react";
import SideBarMenu from "../../../../components/admin/SideBarMenu";
import AdminDashboard from "../../../../components/admin/AdminDashboard";
import AdminHeader from "../../../../components/admin/AdminHeader";

const iransans = localFont({
  src: [
    // {
    //   path: "../../public/fonts/IRANSansWeb.eot",
    //   weight: "400",
    // },
    {
      path: "../../../../public/fonts/IRANSansWeb.ttf",
      weight: "400",
    },
    {
      path: "../../../../public/fonts/IRANSansWeb.woff",
      weight: "700",
    },
    {
      path: "../../../../public/fonts/IRANSansWeb.woff2",
      weight: "700",
    },
  ],
  variable: "--font-iransans",
});
export const metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export async function generateStaticParams() {
  return i18n.locales.map((locale) => ({ lang: locale }));
}

export default async function Root({
  children,
  params,
  authModal,
}: {
  children: React.ReactNode;
  params: { lang: string };
  authModal: React.ReactNode;
}) {
  // console.log(params.lang);

  const dictionary = await getDictionary(params.lang);

  return (
    <html
      lang={params.lang}
      dir={params.lang === "ar" ? "rtl" : "ltr"}
      // dir={(params.lang = "rtl")}
      className={cn("antialiased", iransans.className)}
    >
      {/* /${barlowCondensed.className} ${inter.className} ${merriweather.variable} ${roboto.className} ${iransans.className} font-sans/ */}
      {/* className={`${iransans.className}`}  */}
      <body className="antialiased bg-gradient-to-r from-[#f1ece0] to-[#D6DDE2]">
        <div
          className=" container  dark:bg-slate-900 overflow-hidden relative md:rounded-[30px]  mx-auto  bg-white md:mt-14 mb-52  h-auto
                      shadow-[0_8px_30px_rgb(0,0,0,0.08)]"
        >
          <Providers>
            {/* <Navbar
              navmenu={dictionary.navbar}
              siteLogo={dictionary.logo}
            ></Navbar> */}
            <div className="flex flex-row h-auto">
              <SideBarMenu></SideBarMenu>

              {/* <AdminDashboard></AdminDashboard> */}

              <div className="flex-grow flex flex-col mr-8 ml-4 mb-8 ">
                <div className=" py-8 flex justify-start items-center border-b ">
                  <AdminHeader></AdminHeader>
                </div>
                {children}
              </div>
            </div>
          </Providers>
        </div>
      </body>
    </html>
  );
}
